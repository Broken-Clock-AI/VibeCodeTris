# VibeCodeTris Feature List (Derived from Source Code)

This document provides a comprehensive list of all features currently implemented in the VibeCodeTris project. This list was generated by directly analyzing the source code to ensure accuracy and reflects the true capabilities of the application.

---

### **Core Gameplay Mechanics**

*   **Standard Tetris Rules:** Features standard gravity, piece locking, and line clearing.
    *   *Evidence:* `engine.ts` (`tick` method, `mergePiece` logic).
*   **7-Bag Piece Randomizer:** Ensures all seven tetrominoes appear exactly once in each "bag" of seven pieces, preventing long droughts of a specific piece.
    *   *Evidence:* `rng.ts` (PRNG implementation) and its usage within `engine.ts` to create and draw from a piece bag.
*   **Super Rotation System (SRS):** Implements modern rotation rules, including wall kicks.
    *   *Evidence:* `rules.ts` (rotation matrices and kick tables).
*   **Scoring System:** Includes points for line clears (Single, Double, Triple, Tetris) and level progression.
    *   *Evidence:* `rules.ts` (`calculateScore` logic) and `engine.ts` (score and level state).
*   **Game Over Condition:** The game ends when a piece locks above the visible board.
    *   *Evidence:* `engine.ts` (check in `spawnPiece` method).

---

### **Player Controls & Input Options**

*   **Multi-Device Support:** Full support for Keyboard, Touch, and Gamepad controllers.
    *   *Evidence:* The presence and integration of `keyboard.ts`, `touch.ts`, and `gamepad.ts` in `InputManager.ts`.
*   **Hybrid Touch Controls:** Includes both on-screen virtual buttons and optional swipe gestures.
    *   *Evidence:* `touch.ts` event handlers for both button presses and swipe detection.
*   **Adjustable Timings (DAS/ARR):** Delayed Auto Shift and Auto Repeat Rate are fully configurable by the user via UI sliders.
    *   *Evidence:* `das-slider` and `arr-slider` in `index.html` connected to the `updateTimings` method in `InputManager.ts` via `main.ts`.

---

### **Visual & Rendering Features**

*   **Responsive Fit-to-Screen Layout:** The game board and UI dynamically resize to fit any screen without scrolling or visual artifacts.
    *   *Evidence:* `handleResize` function in `main.ts`.
*   **Ghost Piece:** A preview is shown on the board indicating where the current piece will land. This can be toggled on/off.
    *   *Evidence:* Ghost piece drawing logic within `pixiRenderer.ts`'s `drawBoard` method, controlled by the `isGhostPieceEnabled` setting.
*   **Custom Block Styles:** User-selectable themes for the pieces.
    *   *Evidence:* The `drawBlock` method in `pixiRenderer.ts` contains a `switch` statement for `'modern'`, `'classic'`, and `'nes'` styles.

---

### **Accessibility Features**

*   **Colorblind-Friendly Palettes:** Includes palettes for Deuteranopia, Protanopia, and Tritanopia.
    *   *Evidence:* `THEMES` constant in `pixiRenderer.ts` and the `color-palette-select` dropdown in `index.html`.
*   **High-Contrast Mode:** Renders the board with a pure black background and white borders for maximum visibility.
    *   *Evidence:* `highContrast` flag in `VisualSettings` used to modify colors in `pixiRenderer.ts`.
*   **Distinct Piece Patterns:** An option to render a unique, colorless pattern on each piece, allowing for identification without relying on color.
    *   *Evidence:* `generatePatternTextures` and its application in `drawBoard` in `pixiRenderer.ts`.
*   **High-Contrast Piece Outline:** A bright, continuous outline drawn around the currently falling piece.
    *   *Evidence:* `pieceOutline` flag and drawing logic in `pixiRenderer.ts`.
*   **Screen Reader Support (ARIA Live):** Key game events (e.g., "Game started," "Double line clear," "Game Over") are announced for screen readers.
    *   *Evidence:* `AccessibilityManager` class in `accessibility.ts` and its `announce` method being called from `main.ts` and `pixiRenderer.ts`.
